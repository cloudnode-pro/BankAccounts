# Database configuration
db:
    # Select here the database you want to use
    # The following databases are supported:
    #  - sqlite - (default) stores all data in a local file
    #  - mariadb - allows using a remote database with JDBC
    # IMPORTANT! If you change the DB type, the data is not automatically migrated between databases.
    db: sqlite

    # SQLite
    sqlite:
        # Database file name (in the plugin's folder)
        # If the file does not exist, it will be created
        file: bank.db

    # MariaDB
    mariadb:
        # JDBC url
        jdbc: jdbc:mariadb://localhost:3306/your_db_name
        # Database user
        user: root
        # Database password
        password: ChangeThis!

    # Advanced configuration (do not touch unless you know what you are doing)
    # HikariCP. Comment out any data source property to disable setting it.
    cachePrepStmts: true
    prepStmtCacheSize: 250
    prepStmtCacheSqlLimit: 2048
    useServerPrepStmts: true
    useLocalSessionState: true
    rewriteBatchedStatements: true
    cacheResultSetMetadata: true
    cacheServerConfiguration: true
    elideSetAutoCommits: true
    maintainTimeStats: false

currency:
    # Currency symbol
    symbol: $

    # Currency format
    # See https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DecimalFormat.html#special_pattern_character
    format: "#,##0.00"

# Starting balance
# Set to `null` to disable automatically creating a personal account on first join
starting-balance: 0

# If set to true, players will not be able to close their LAST personal account.
# This is recommended if you are using `starting-balance` as an account will be re-created when the player joins again.
# If you want to prevent a player from using their personal account, you can freeze it.
# You can BYPASS this setting using `bank.delete.personal`
prevent-close-last-personal: true

# Server account
server-account:
    # If enabled, when the plugin is loaded an account will be created as player with UUID 00000000-0000-0000-0000-000000000000
    enabled: true
    # Display name for the server account
    name: Central Bank
    # Account type
    # Possible values:
    #   0: Personal account
    #   1: Business account
    type: 1
    # Starting balance
    # Use `Infinity` for infinite ∞ balance
    starting-balance: Infinity

# Maximum number of accounts a player can have
# Account types:
#   0: Personal account
#   1: Business account
# Limits:
#   0: cannot have any accounts
#   -1: unlimited accounts
#
# Players can open accounts themselves if they have `bank.account.create`. These limits also apply if someone else
# creates bank accounts for other players with the admin permission `bank.account.create.other`. You can bypass the
# limits using `bank.account.create.bypass`.
account-limits:
    # Personal accounts
    0: 1
    # Business accounts
    1: -1

# Transfer confirmation
transfer-confirmation:
    # If enabled, players will be shown a transfer overview asking them to confirm the transfer
    enabled: true
    # Minimum transfer amount to show confirmation for
    # Min transfer amount is > 0, so setting this to 0 will enable confirmation for all transfers amounts
    min-amount: 200
    # If true, confirmation will not be required for transfers between own accounts
    bypass-own-accounts: true

# Transactions history
history:
    # Number of transactions to return per page
    # You can use `/bank transactions <account> --all` to view all transactions
    per-page: 10

# Payment instruments
# These are like bank cards that can be used to make payments.
instruments:
    # The in-game item to use. See https://hub.spigotmc.org/javadocs/spigot/org/bukkit/Material.html
    material: PAPER

    # Require the player to have an item in their inventory of the same material in order to create a new instrument.
    # The item is consumed and replaced with the instrument. This is recommended to prevent limitless generation of
    # items. Payment instruments CAN be used in crafting recipes and villager trading as if they were regular items.
    # You can bypass this requirement using `bank.instrument.create.bypass`. Non-players (e.g. console, command blocks,
    # etc.) always bypass this requirement.
    require-item: true

    # The name of the item
    # Placeholders:
    #  - <account> - Account name. Defaults to owner username or ID if not set.
    #  - <account-id> - Account ID
    #  - <account-type> - Account type (Personal or Business)
    #  - <account-owner> - Account owner username
    #  - <date> - Date card was created. You can use <date:'yyyy-MM-dd HH:mm:ss'>. Check here for patterns: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#patterns
    # NOTE: The placeholders are set only when the item is created.
    # If the account is renamed or the balance changes, the text on the item will NOT be updated.
    # Additionally, if you modify this, it will only be effective for new bank cards.
    name: "<green><b>Bank Card</b></green> <aqua>—</aqua> <gray><account></gray>"

    # Lore of the item (text below the name)
    # Same placeholders as name
    lore:
        - "<white><account-type>, <account></white>"
        - "<gray>#<account-id></gray>"
        - "<gray>Issued <date:'MM/yy'></gray>"
        - "<gray>Owner:</gray> <white><account-owner></white>"

    # Item glint
    # This makes the item shine as if enchanted
    glint:
        enabled: true

        # The hidden enchantment to apply to the item
        # Enchantments are the same as seen in the `/enchant` command. Do not include the `minecraft:` prefix.
        # If you set this to something like "vanishing_curse" the item will disappear when the player dies.
        # If you use a compatible enchantment with the item material, the enchantment will be fully functional.
        # (e.g. if your item is a sword, and you use "sharpness", the sword will deal more damage, even though the
        # enchantment is not listed in the lore. it is recommended to avoid that)
        # Level 1 is always applied.
        enchantment: unbreaking

# POS
# Note: you cannot use <hover> <click> etc. in GUIs
pos:
    # Allow creating POS with a PERSONAL account
    # If you want to require players to use a business account, set this to false.
    # You can bypass this with `bank.pos.create.personal`
    allow-personal: false

    # The title shown at the top of the GUI when opening a POS
    # Placeholders:
    # <description> - POS description
    # <price> - Price of the POS contents without formatting, example: 123456.78
    # <price-formatted> - Price of the POS contents with formatting, example: 123,456.78
    # <price-short> - Price of the POS contents with formatting, example: 123k
    title: "<green><bold>Point of Sale</bold></green> <gray>— <price-formatted></gray>"

    # POS info item
    info:
        # Available materials: https://hub.spigotmc.org/javadocs/spigot/org/bukkit/Material.html
        material: PAPER

        # Glint / glow (does not work on all items)
        glint: true

        # Item name when owner is viewing the POS.
        # Same placeholders as POS title.
        name-owner: "<green><bold>POS</bold></green>"
        # Item name when potential buyer is viewing the POS.
        # Same placeholders as POS title.
        # Extra placeholders: same as `messages.balance`. The account is of the owner of the POS.
        name-buyer: "<green><bold>POS</bold></green> <gray>— <account></gray>"

        # Lore lines when owner is viewing the POS.
        # Same placeholders as POS title.
        lore-owner:
            - "<gray>Price:</gray> <green><price-formatted></green>"
            - "<gray>Description:</gray> <white><description></white>"
        # Same placeholders as name-buyer
        lore-buyer:
            - "<gray>Price:</gray> <green><price-formatted></green>"
            - "<gray>Description:</gray> <white><description></white>"

    # POS delete item (owner only)
    # No placeholders.
    delete:
        material: BARRIER
        glint: false
        name: "<red><bold>Cancel POS</bold></red>"
        lore:
            - "<gray>Click to cancel this POS.</gray>"

    # Confirm purchase item (buyer only)
    # Same placeholders as name-buyer, but this time the account is of the buyer.
    confirm:
        material: LIME_STAINED_GLASS_PANE
        glint: false
        name: "<green><bold>Confirm Purchase</bold></green>"
        lore:
            - "<gray>Click to confirm purchase.</gray>"
            - "<gray>Price:</gray> <green><price-formatted></green>"
            - "<gray>Balance:</gray> <white><balance-formatted></white>"
            - "<gray>Paying with:</gray> <white><account></white> <gray>(<account-formatted>)</gray>"
            - "<dark_gray>Account ID <account-id></dark_gray>"
    # Deny purchase item (buyer only)
    # No placeholders.
    decline:
        material: RED_STAINED_GLASS_PANE
        glint: false
        name: "<red><bold>Decline Purchase</bold></red>"
        lore:
            - "<gray>Click to decline this purchase.</gray>"


# Messages
messages:
    # Currency symbol
    currency: $

    # Errors
    errors:
        # You have no accounts
        no-accounts: "<red>(!) You have no bank accounts.</red>"
        # No permission
        no-permission: "<red>(!) You do not have permission to use this command.</red>"
        # Account not found
        account-not-found: "<red>(!) Account not found.</red>"
        # Command not recognised
        unknown-command: "<red>(!) Unknown command. Try <click:suggest_command:/bank help><gray>/bank help</gray></click>.</red>"
        # <type> the account type
        # <limit> the account limit for that type
        max-accounts: "<red>(!) You cannot open more than <limit> <type> accounts.</red>"
        rename-personal: "<red>(!) You cannot rename personal accounts.</red>"
        # You do not own this account
        not-account-owner: "<red>(!) You are not the owner of this account.</red>"
        # Account frozen (placeholders same as balance)
        frozen: "<gold>(!) <account-type> account <gray><account> (<account-id>)</gray> is frozen. This account cannot initiate or receive transactions.</gold>"
        # Cannot transfer to same account
        same-from-to: "<red>(!) The from and to accounts must be different.</red>"
        # You can only make transfer between your own accounts
        transfer-self-only: "<red>(!) You can only make transfers between your own accounts.</red>"
        # You can only transfer to account that are not yours
        transfer-other-only: "<red>(!) You cannot make a transfer between your own accounts.</red>"
        # Invalid number. Placeholder <number> is the invalid number
        invalid-number: "<red>(!) Invalid number: <gray><number></gray></red>"
        # $0 or negative transfer
        negative-transfer: "<red>(!) The amount to transfer must be greater than zero.</red>"
        # Insufficient funds (placeholders same as balance)
        insufficient-funds: "<red>(!) Your account has insufficient funds. You have <gray><balance-formatted></gray></red>"
        # Trying to close an account that has non-zero balance
        closing-balance: "<red>(!) You cannot close an account that has a non-zero balance. This account has <gray><balance-formatted></gray></red>"
        # Trying to close a personal account and `prevent-close-last-personal` is enabled
        closing-personal: "<red>(!) You cannot close your last personal account.</red>"
        # Command only for players
        player-only: "<red>(!) You must be a player to use this command.</red>"
        # Player not found
        player-not-found: "<red>(!) Player not found.</red>"
        # You must have a specific item to convert to an instrument
        # Placeholder: <material> - the item type that is required
        instrument-requires-item: "<red>(!) You must have <gray>x1 <material></gray> in your inventory to create a bank card from.</red>"
        # Target player's inventory is full
        # Placeholder: <player> - the target player's name
        target-inventory-full: "<red>(!) The inventory of <gray><player></gray> is full.</red>"
        block-too-far: "<red>(!) The targeted block is too far away.</red>"
        pos-already-exists: "<red>(!) A POS already exists at this location.</red>"
        pos-not-chest: "<red>(!) The targeted block is not a chest.</red>"
        pos-empty: "<red>(!) The chest is empty. POS cancelled.</red>"
        pos-invalid-card: "<red>(!) You need a valid bank card to use POS.</red>"
        pos-no-permission: "<red>(!) You do not have permission to use POS.</red>"
        card-no-permission: "<red>(!) You cannot use your card here.</red>"
        no-card: "<red>(!) You must hold your bank card to use this.</red>"
        pos-items-changed: "<red>(!) The items in the chest have changed. POS cancelled.</red>"
        pos-create-business-only: "<red>(!) You can only create a POS with a business account.</red>"

    # Account balance
    # Available placeholders:
    # <account> - Account name. Defaults to owner username or ID if not set.
    # <account-id> - Account ID
    # <account-type> - Account type (Personal or Business)
    # <account-owner> - Account owner username
    # <balance> - Account balance without formatting, example: 123456.78
    # <balance-formatted> - Account balance with formatting, example: 123,456.78
    # <balance-short> - Account balance with formatting, example: 123k
    balance: |-
        <green><account></green> <gray>(<account-type> account)</gray>
        <green>Balance:</green> <white><balance-formatted></white>
        <white><i>Owned by <account-owner></i></white>
        <i><gray><click:copy_to_clipboard:<account-id>><hover:show_text:'Click to copy account ID'><account-id></hover></click></gray></i>

    # List accounts
    list-accounts:
        header: "<green>Bank accounts</green>"
        # Same placeholders as balance
        entry: "<dark_gray>*</dark_gray> <gray><click:run_command:/bank balance <account-id>><hover:show_text:'<white><account></white><newline><gray><account-type><dark_gray>:</dark_gray> <green><balance-formatted></green></gray><newline><gray><account-id></gray><newline><gray>Click to view'><account></hover></click><dark_gray>:</dark_gray> <white><balance-short></white></gray>"

    # Plugin reload
    reload: "<green>(!) Plugin configuration reloaded</green>"

    # Account created (same placeholders as balance)
    account-created: "<green>(!) Successfully created <account-type> account: <account></green> <click:run_command:/bank balance <account-id>><gray>Click to view</gray></click>"

    # Balance set (same placeholders as balance)
    balance-set: "<green>(!) Successfully set <white><account></white> <gray>(<account-type>, <account-id>)</gray> balance to <white><balance-formatted></white></green>"

    # Account name set (same placeholders as balance)
    name-set: "<green>(!) Successfully renamed account <white><account></white>"

    # Account deleted (same placeholders as balance)
    account-deleted: "<green>(!) Successfully deleted account <white><account></white>"

    # Transfer confirmation
    # Placeholders are the same as balance. Add prefix `from-` for account sending and `to-` for account receiving
    # Example: <to-account-id>, <from-balance-formatted>
    # Additional placeholders:
    # <amount> - Transfer amount without formatting, example: 123456.78
    # <amount-formatted> - Transfer amount with formatting, example: 123,456.78
    # <amount-short> - Transfer amount with formatting, example: 123k
    # <description> - Transfer description
    # <confirm-command> - Command to run to confirm transfer
    confirm-transfer: |-
        <green><bold>CONFIRM TRANSFER</bold></green>
        <green>From:</green> <white><from-account></white> <gray>(<from-account-type> account of <from-account-owner>, <from-account-id>)</gray>
        <green>To:</green> <white><to-account></white> <gray>(<to-account-type> account of <to-account-owner>, <to-account-id>)</gray>
        <green>Amount:</green> <white><amount-formatted></white>
        <green>Description:</green> <white><description></white>
        
        <click:run_command:<confirm-command>><hover:show_text:'<green>Click to confirm transfer</green>'><green>[I CONFIRM]</green></hover></click>

    # Transfer sent (same placeholders as confirm-transfer, except confirm-command)
    # Additional placeholders:
    # <transaction-id> - Transaction ID
    transfer-sent: <green>(!) Successfully sent <white><amount-formatted></white> from <hover:show_text:'<white><from-account></white><newline><gray><from-account-type><dark_gray>:</dark_gray> <green><from-balance-formatted></green></gray><newline><gray>Owned by <from-account-owner></gray><newline><gray><from-account-id></gray>'><white><from-account></white></hover> to <hover:show_text:'<white><to-account></white><newline><gray><to-account-type></gray><newline><gray>Owned by <to-account-owner></gray><newline><gray><to-account-id></gray>'><white><to-account></white></hover></green> <click:copy_to_clipboard:<transaction-id>><hover:show_text:'Click to copy transaction ID'><gray>#<transaction-id></gray></hover></click>

    # Transfer received (same placeholders as transfer-sent)
    transfer-received: <green>(!) You have received <white><amount-formatted></white> from <hover:show_text:'<white><from-account></white><newline><gray><from-account-type></gray><newline><gray>Owned by <from-account-owner></gray><newline><gray><from-account-id></gray>'><white><from-account></white></hover> in your <hover:show_text:'<white><to-account></white><newline><gray><to-account-type><dark_gray>:</dark_gray> <green><to-balance-formatted></green></gray><newline><gray>Owned by <to-account-owner></gray><newline><gray><to-account-id></gray>'><white><to-account></white></hover> account:</green> <white><description></white> <click:copy_to_clipboard:<transaction-id>><hover:show_text:'Click to copy transaction ID'><gray>(#<transaction-id>)</gray></hover></click>

    # Transaction history
    history:
        # All placeholders of `balance` are available
        # Additional placeholders:
        # <page> - Current page number
        # <max-page> - Maximum number of pages
        # <cmd-prev> - Command to go to previous page
        # <cmd-next> - Command to go to next page
        header: "<green>Transaction history</green> <gray>(<hover:show_text:'<white><account></white><newline><gray><account-type><dark_gray>:</dark_gray> <green><balance-formatted></green></gray><newline><gray>Owned by <account-owner></gray><newline><gray><account-id></gray>'><account></hover>)</gray>"
        # All placeholders of `balance` and `transfer-sent` are available. Use <account> (no prefix) for your account and "other-" prefix for other account
        # Additional placeholders:
        # <instrument> - The way the transfer was made, e.g. "direct transfer", "pos", etc.
        # <date> - Transaction date. You can use <date:'yyyy-MM-dd HH:mm:ss'>. Check here for patterns: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#patterns
        # <full_date> - Full date with time zone. Can be used in <hover>, <click> etc.
        entry: "<hover:show_text:'<full_date>'><dark_gray>#<transaction-id></dark_gray></hover> <white><amount-formatted></white> <gray><hover:show_text:'<white><other-account></white><newline><gray><other-account-type></gray><newline><gray>Owned by <other-account-owner></gray><newline><gray><other-account-id></gray>'><other-account></hover>: <description></gray> <dark_gray>(<instrument>)</dark_gray>"
        # Same placeholders as header
        footer: "<click:run_command:<cmd-prev>><hover:show_text:'<white>Previous page</white>'><green>← Previous</green></hover></click> <gray>Page <page>/<max-page></gray> <click:run_command:<cmd-next>><hover:show_text:'<white>Next page</white>'><green>Next →</green></hover></click>"
        # No transactions
        no-transactions: "<gray>(!) No transactions to show.</gray>"

    # Successfully created payment instrument (bank card)
    instrument-created: "<green>(!) Successfully created payment instrument.</green>"

    # Pos created
    # Same placeholders as balance (account is that of the seller).
    # Additional placeholders:
    # <price> - Price of the POS contents without formatting, example: 123456.78
    # <price-formatted> - Price of the POS contents with formatting, example: 123,456.78
    # <price-short> - Price of the POS contents with formatting, example: 123k
    # <description> - Bank statement description
    # <x> - X coordinate of the chest
    # <y> - Y coordinate of the chest
    # <z> - Z coordinate of the chest
    # <world> - World name of the chest
    pos-created: "<green>(!) Successfully created POS with price <white><price-formatted></white> to receive in account <hover:show_text:'<white><account></white><newline><gray><account-type><dark_gray>:</dark_gray> <green><balance-formatted></green></gray><newline><gray>Owned by <account-owner></gray><newline><gray><account-id></gray>'><white><account></white></hover>:</green> <gray><description></gray>"

    # Pos removed
    # (no placeholders)
    pos-removed: "<gold>(!) Removed POS.</gold>"

    # Pos purchase completed
    # Same placeholders as transfer-sent. `from` account is buyer, `to` account is seller.
    # Additional placeholders:
    # <items> - Number of items purchased
    # <items-formatted> - E.g. `1 item`, `5 items`, etc.
    # <pos> - POS coordinates, e.g. `X: 123 Y: -12 Z: 456 in world`
    pos-purchase: "<green>(!) Successfully purchased <white><items-formatted></white> from <hover:show_text:'<white><to-account></white><newline><gray><to-account-type></gray><newline><gray>Owned by <to-account-owner></gray><newline><gray><to-account-id></gray>'><white><to-account></white></hover> for <white><amount-formatted></white>. You paid from <hover:show_text:'<white><from-account></white><newline><gray><from-account-type><dark_gray>:</dark_gray> <green><from-balance-formatted></green></gray><newline><gray>Owned by <from-account-owner></gray><newline><gray><from-account-id></gray>'><white><from-account></white></hover>:</green> <gray><description></gray>"

    # Someone made a purchase from your POS
    # Same placeholders as pos-purchase. `from` account is buyer, `to` account is seller.
    # Additional placeholders:
    # <items> - Number of items purchased
    # <items-formatted> - E.g. `1 item`, `5 items`, etc.
    # <pos> - POS coordinates, e.g. `X: 123 Y: -12 Z: 456 in world`
    pos-purchase-seller: "<green>(!) Sold <white><items-formatted></white> to <hover:show_text:'<white><from-account></white><newline><gray><from-account-type></gray><newline><gray>Owned by <from-account-owner></gray><newline><gray><from-account-id></gray>'><white><from-account></white></hover> for <white><amount-formatted></white> at POS <gray><pos></gray>. The funds are in account <hover:show_text:'<white><to-account></white><newline><gray><to-account-type><dark_gray>:</dark_gray> <green><to-balance-formatted></green></gray><newline><gray>Owned by <to-account-owner></gray><newline><gray><to-account-id></gray>'><white><to-account></white></hover>:</green> <gray><description></gray>"
